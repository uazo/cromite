From: csagan5 <32685696+csagan5@users.noreply.github.com>
Date: Mon, 17 Sep 2018 21:50:15 +0200
Subject: ungoogled-chromium: Disable Network Time Tracker

This connects to Google to check if the system time is correct when a website certificate
date seems incorrect, according to https://bugs.chromium.org/p/chromium/issues/detail?id=725232

Fixes https://github.com/Eloston/ungoogled-chromium/issues/302

License: GPL-3.0-only - https://spdx.org/licenses/GPL-3.0-only.html
---
 components/network_time/network_time_tracker.cc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/components/network_time/network_time_tracker.cc b/components/network_time/network_time_tracker.cc
--- a/components/network_time/network_time_tracker.cc
+++ b/components/network_time/network_time_tracker.cc
@@ -63,6 +63,7 @@ BASE_FEATURE(kNetworkTimeServiceQuerying, base::FEATURE_DISABLED_BY_DEFAULT);
 #else
 BASE_FEATURE(kNetworkTimeServiceQuerying, base::FEATURE_ENABLED_BY_DEFAULT);
 #endif
+SET_CROMITE_FEATURE_DISABLED(kNetworkTimeServiceQuerying);
 
 namespace {
 
@@ -324,8 +325,7 @@ void NetworkTimeTracker::UpdateNetworkTime(base::Time network_time,
 }
 
 bool NetworkTimeTracker::AreTimeFetchesEnabled() const {
-  return is_initialized() &&
-         base::FeatureList::IsEnabled(kNetworkTimeServiceQuerying);
+  return false;
 }
 
 NetworkTimeTracker::FetchBehavior NetworkTimeTracker::GetFetchBehavior() const {
--
