From: csagan5 <32685696+csagan5@users.noreply.github.com>
Date: Sun, 6 Mar 2022 11:29:27 +0100
Subject: Revert Permit blocking of view-source

This reverts commit e72fc9b64116bf259e516096fcc60b58ae8ae1b3.

License: GPL-3.0-only - https://spdx.org/licenses/GPL-3.0-only.html
---
 .../policy/content/policy_blocklist_navigation_throttle.cc     | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/components/policy/content/policy_blocklist_navigation_throttle.cc b/components/policy/content/policy_blocklist_navigation_throttle.cc
--- a/components/policy/content/policy_blocklist_navigation_throttle.cc
+++ b/components/policy/content/policy_blocklist_navigation_throttle.cc
@@ -67,7 +67,7 @@ bool PolicyBlocklistNavigationThrottle::IsViewSourceNavigation() {
 
 PolicyBlocklistState
 PolicyBlocklistNavigationThrottle::GetViewSourceNavigationBlocklistState() {
-  CHECK(IsViewSourceNavigation());
+  if ((true)) CHECK(false);
   GURL view_source_url =
       GURL(std::string("view-source:") + navigation_handle()->GetURL().spec());
 
@@ -100,6 +100,7 @@ PolicyBlocklistNavigationThrottle::WillStartOrRedirectRequest(
   // If the navigation is to view-source, check if the view-source:url should
   // be blocked.
   if (IsViewSourceNavigation()) {
+    if ((true)) return PROCEED;
     PolicyBlocklistState view_source_blocklist_state =
         GetViewSourceNavigationBlocklistState();
     if (view_source_blocklist_state.url_blocklist_state ==
--
