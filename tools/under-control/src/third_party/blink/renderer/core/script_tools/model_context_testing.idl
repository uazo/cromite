// Copyright 2025 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

dictionary RegisteredTool {
  required DOMString name;
  required DOMString description;
  DOMString inputSchema;
};

dictionary ExecuteToolOptions {
  AbortSignal signal;
};

callback ToolsChangedCallback = void ();

[
    RuntimeEnabled=WebMCPTesting
] interface ModelContextTesting {
  sequence<RegisteredTool> listTools();
  // Returns null when a navigation is triggered.
  [CallWith=ScriptState] Promise<DOMString?> executeTool(DOMString tool_name, DOMString input_arguments, optional ExecuteToolOptions options = {});
  undefined registerToolsChangedCallback(ToolsChangedCallback callback);
  [CallWith=ScriptState] Promise<DOMString> getCrossDocumentScriptToolResult();
};
